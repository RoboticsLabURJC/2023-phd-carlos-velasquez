#!/bin/bash

# Matar procesos anteriores
echo "ðŸ§¹ Limpiando procesos anteriores..."
pkill -9 -f curvature_collector
pkill -9 -f ros2
pkill -9 -f CarlaUE4

# Esperar unos segundos opcionalmente
sleep 2

# Lanzar Carla (opcional)
# /ruta/a/CarlaUE4.sh -carla-server -RenderOffScreen &

# Ejecutar el nodo ROS 2
echo "ðŸš€ Ejecutando nodo de recolecciÃ³n de curvatura"
source /opt/ros/humble/setup.bash
source ~/ros2_ws/install/setup.bash
ros2 run curvature_collector node_curvature_collector.py